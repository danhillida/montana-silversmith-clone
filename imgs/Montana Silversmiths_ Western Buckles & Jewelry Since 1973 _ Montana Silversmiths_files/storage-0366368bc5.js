(function(){var define=undefined;(function(){function c(a,i,o){function l(r,e){if(!i[r]){if(!a[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(u)return u(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var s=i[r]={exports:{}};a[r][0].call(s.exports,function(e){var t=a[r][1][e];return l(t||e)},s,s.exports,c,a,i,o)}return i[r].exports}for(var u="function"==typeof require&&require,e=0;e<o.length;e++)l(o[e]);return l}return c})()({"/home/jarvis/nodeapp/client/js/record/storage.js":[function(e,t,r){"use strict";var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=e("reqwest");var a="uxld_";var o="uxl_send";var l=false;var u=function(){function e(){s(this,e);var n=this;try{if(!window.sessionStorage)return}catch(e){return}window.addEventListener("message",function(e){var t=e.data[0];var r=e.data[1];if(t==="post"){n.store(r)}else if(t==="clear"){n.clear()}else if(t==="send"){n.startSending()}else if(t==="stop"){window.localStorage.setItem(o,"0")}else if(t==="request-params"){n.requestParams=r}});setInterval(function(){n.push()},2e3)}n(e,[{key:"keyPrefix",value:function e(){return a+window.apiKey+"_"}},{key:"serializeStorage",value:function e(t){if(window.document.documentMode){return btoa(t)}return t}},{key:"deSerializeStorage",value:function e(t){if(window.document.documentMode){return atob(t)}return t}},{key:"store",value:function e(t){var r=this;var n=r.keyPrefix()+(new Date).getTime().toString();try{window.sessionStorage.setItem(n,r.serializeStorage(t))}catch(e){}}},{key:"allDataKeys",value:function e(){var t=new RegExp(""+this.keyPrefix());return Object.keys(window.sessionStorage).filter(function(e){return t.test(e)})}},{key:"push",value:function e(){if(!this.canSend())return;if(l)return;l=true;var t=this;var r=t.allDataKeys();var n=[];for(var s=r.length-1;s>=0;s--){n.push(t.deSerializeStorage(window.sessionStorage.getItem(r[s])));window.sessionStorage.removeItem(r[s])}if(n.length){var a=JSON.parse(JSON.stringify(t.requestParams));a.data=JSON.stringify(n);i(a)}l=false}},{key:"clear",value:function e(){this.allDataKeys().map(function(e){window.sessionStorage.removeItem(e)})}},{key:"startSending",value:function e(){window.localStorage.setItem(o,(new Date).getTime());this.push()}},{key:"canSend",value:function e(){var t=parseInt(window.localStorage.getItem(o));var r=(new Date).getTime();return r-t<3600*1e3}},{key:"execute",value:function e(t){if(t.data.action==="clear"){this.clear()}else if(t.data.action==="send"){this.startSending()}else if(t.data.action==="stop"){window.localStorage.setItem(o,"0")}else if(t.data.action==="request-params"){this.requestParams=t.data.params}}}]);return e}();new u},{reqwest:"/home/jarvis/nodeapp/node_modules/reqwest/reqwest.js"}],"/home/jarvis/nodeapp/node_modules/browser-resolve/empty.js":[function(e,t,r){},{}],"/home/jarvis/nodeapp/node_modules/reqwest/reqwest.js":[function(_dereq_,module,exports){!function(e,t,r){if(typeof module!="undefined"&&module.exports)module.exports=r();else if(typeof define=="function"&&define.amd)define(r);else t[e]=r()}("reqwest",this,function(){var context=this;if("window"in context){var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0]}else{var XHR2;try{XHR2=_dereq_("xhr2")}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray=typeof Array.isArray=="function"?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e["crossOrigin"]===true){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t){return t}else if(context[xDomainRequest]){return new XDomainRequest}else{throw new Error("Browser does not support cross-origin requests")}}else if(context[xmlHttpRequest]){return new XMLHttpRequest}else if(XHR2){return new XHR2}else{return new ActiveXObject("Microsoft.XMLHTTP")}},globalSetupOptions={dataFilter:function(e){return e}};function succeed(e){var t=protocolRe.exec(e.url);t=t&&t[1]||context.location.protocol;return httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,r){return function(){if(e._aborted)return r(e.request);if(e._timedOut)return r(e.request,"Request is aborted: timeout");if(e.request&&e.request[readyState]==4){e.request.onreadystatechange=noop;if(succeed(e))t(e.request);else r(e.request)}}}function setHeaders(e,t){var r=t["headers"]||{},n;r["Accept"]=r["Accept"]||defaultHeaders["accept"][t["type"]]||defaultHeaders["accept"]["*"];var s=typeof FormData!=="undefined"&&t["data"]instanceof FormData;if(!t["crossOrigin"]&&!r[requestedWith])r[requestedWith]=defaultHeaders["requestedWith"];if(!r[contentType]&&!s)r[contentType]=t["contentType"]||defaultHeaders["contentType"];for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){if(typeof t["withCredentials"]!=="undefined"&&typeof e.withCredentials!=="undefined"){e.withCredentials=!!t["withCredentials"]}}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,r,n){var s=uniqid++,a=e["jsonpCallback"]||"callback",i=e["jsonpCallbackName"]||reqwest.getcallbackPrefix(s),o=new RegExp("((^|\\?|&)"+a+")=([^&]+)"),l=n.match(o),u=doc.createElement("script"),c=0,f=navigator.userAgent.indexOf("MSIE 10.0")!==-1;if(l){if(l[3]==="?"){n=n.replace(o,"$1="+i)}else{i=l[3]}}else{n=urlappend(n,a+"="+i)}context[i]=generalCallback;u.type="text/javascript";u.src=n;u.async=true;if(typeof u.onreadystatechange!=="undefined"&&!f){u.htmlFor=u.id="_reqwest_"+s}u.onload=u.onreadystatechange=function(){if(u[readyState]&&u[readyState]!=="complete"&&u[readyState]!=="loaded"||c){return false}u.onload=u.onreadystatechange=null;u.onclick&&u.onclick();t(lastValue);lastValue=undefined;head.removeChild(u);c=1};head.appendChild(u);return{abort:function(){u.onload=u.onreadystatechange=null;r({},"Request is aborted: timeout",{});lastValue=undefined;head.removeChild(u);c=1}}}function getRequest(e,t){var r=this.o,n=(r["method"]||"GET").toUpperCase(),s=typeof r==="string"?r:r["url"],a=r["processData"]!==false&&r["data"]&&typeof r["data"]!=="string"?reqwest.toQueryString(r["data"]):r["data"]||null,i,o=false;if((r["type"]=="jsonp"||n=="GET")&&a){s=urlappend(s,a);a=null}if(r["type"]=="jsonp")return handleJsonp(r,e,t,s);i=r.xhr&&r.xhr(r)||xhr(r);i.open(n,s,r["async"]===false?false:true);setHeaders(i,r);setCredentials(i,r);if(context[xDomainRequest]&&i instanceof context[xDomainRequest]){i.onload=e;i.onerror=t;i.onprogress=function(){};o=true}else{i.onreadystatechange=handleReadyState(this,e,t)}r["before"]&&r["before"](i);if(o){setTimeout(function(){i.send(a)},200)}else{i.send(a)}return i}function Reqwest(e,t){this.o=e;this.fn=t;init.apply(this,arguments)}function setType(e){if(e===null)return undefined;if(e.match("json"))return"json";if(e.match("javascript"))return"js";if(e.match("text"))return"html";if(e.match("xml"))return"xml"}function init(o,fn){this.url=typeof o=="string"?o:o["url"];this.timeout=null;this._fulfilled=false;this._successHandler=function(){};this._fulfillmentHandlers=[];this._errorHandlers=[];this._completeHandlers=[];this._erred=false;this._responseArgs={};var self=this;fn=fn||function(){};if(o["timeout"]){this.timeout=setTimeout(function(){timedOut()},o["timeout"])}if(o["success"]){this._successHandler=function(){o["success"].apply(o,arguments)}}if(o["error"]){this._errorHandlers.push(function(){o["error"].apply(o,arguments)})}if(o["complete"]){this._completeHandlers.push(function(){o["complete"].apply(o,arguments)})}function complete(e){o["timeout"]&&clearTimeout(self.timeout);self.timeout=null;while(self._completeHandlers.length>0){self._completeHandlers.shift()(e)}}function success(resp){var type=o["type"]||resp&&setType(resp.getResponseHeader("Content-Type"));resp=type!=="jsonp"?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r){switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML;break}}self._responseArgs.resp=resp;self._fulfilled=true;fn(resp);self._successHandler(resp);while(self._fulfillmentHandlers.length>0){resp=self._fulfillmentHandlers.shift()(resp)}complete(resp)}function timedOut(){self._timedOut=true;self.request.abort()}function error(e,t,r){e=self.request;self._responseArgs.resp=e;self._responseArgs.msg=t;self._responseArgs.t=r;self._erred=true;while(self._errorHandlers.length>0){self._errorHandlers.shift()(e,t,r)}complete(e)}this.request=getRequest.call(this,success,error)}Reqwest.prototype={abort:function(){this._aborted=true;this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){e=e||function(){};t=t||function(){};if(this._fulfilled){this._responseArgs.resp=e(this._responseArgs.resp)}else if(this._erred){t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t)}else{this._fulfillmentHandlers.push(e);this._errorHandlers.push(t)}return this},always:function(e){if(this._fulfilled||this._erred){e(this._responseArgs.resp)}else{this._completeHandlers.push(e)}return this},fail:function(e){if(this._erred){e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t)}else{this._errorHandlers.push(e)}return this},catch:function(e){return this.fail(e)}};function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var r=e.name,n=e.tagName.toLowerCase(),s=function(e){if(e&&!e["disabled"])t(r,normalize(e["attributes"]["value"]&&e["attributes"]["value"]["specified"]?e["value"]:e["text"]))},a,i,o,l;if(e.disabled||!r)return;switch(n){case"input":if(!/reset|button|image|file/i.test(e.type)){a=/checkbox/i.test(e.type);i=/radio/i.test(e.type);o=e.value;(!(a||i)||e.checked)&&t(r,normalize(a&&o===""?"on":o))}break;case"textarea":t(r,normalize(e.value));break;case"select":if(e.type.toLowerCase()==="select-one"){s(e.selectedIndex>=0?e.options[e.selectedIndex]:null)}else{for(l=0;e.length&&l<e.length;l++){e.options[l].selected&&s(e.options[l])}}break}}function eachFormElement(){var a=this,e,t,r=function(e,t){var r,n,s;for(r=0;r<t.length;r++){s=e[byTag](t[r]);for(n=0;n<s.length;n++)serial(s[n],a)}};for(t=0;t<arguments.length;t++){e=arguments[t];if(/input|select|textarea/i.test(e.tagName))serial(e,a);r(e,["input","select","textarea"])}}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var r={};eachFormElement.apply(function(e,t){if(e in r){r[e]&&!isArray(r[e])&&(r[e]=[r[e]]);r[e].push(t)}else r[e]=t},arguments);return r}reqwest.serializeArray=function(){var r=[];eachFormElement.apply(function(e,t){r.push({name:e,value:t})},arguments);return r};reqwest.serialize=function(){if(arguments.length===0)return"";var e,t,r=Array.prototype.slice.call(arguments,0);e=r.pop();e&&e.nodeType&&r.push(e)&&(e=null);e&&(e=e.type);if(e=="map")t=serializeHash;else if(e=="array")t=reqwest.serializeArray;else t=serializeQueryString;return t.apply(null,r)};reqwest.toQueryString=function(e,t){var r,n,s=t||false,a=[],i=encodeURIComponent,o=function(e,t){t="function"===typeof t?t():t==null?"":t;a[a.length]=i(e)+"="+i(t)};if(isArray(e)){for(n=0;e&&n<e.length;n++)o(e[n]["name"],e[n]["value"])}else{for(r in e){if(e.hasOwnProperty(r))buildParams(r,e[r],s,o)}}return a.join("&").replace(/%20/g,"+")};function buildParams(e,t,r,n){var s,a,i,o=/\[\]$/;if(isArray(t)){for(a=0;t&&a<t.length;a++){i=t[a];if(r||o.test(e)){n(e,i)}else{buildParams(e+"["+(typeof i==="object"?a:"")+"]",i,r,n)}}}else if(t&&t.toString()==="[object Object]"){for(s in t){buildParams(e+"["+s+"]",t[s],r,n)}}else{n(e,t)}}reqwest.getcallbackPrefix=function(){return callbackPrefix};reqwest.compat=function(e,t){if(e){e["type"]&&(e["method"]=e["type"])&&delete e["type"];e["dataType"]&&(e["type"]=e["dataType"]);e["jsonpCallback"]&&(e["jsonpCallbackName"]=e["jsonpCallback"])&&delete e["jsonpCallback"];e["jsonp"]&&(e["jsonpCallback"]=e["jsonp"])}return new Reqwest(e,t)};reqwest.ajaxSetup=function(e){e=e||{};for(var t in e){globalSetupOptions[t]=e[t]}};return reqwest})},{xhr2:"/home/jarvis/nodeapp/node_modules/browser-resolve/empty.js"}]},{},["/home/jarvis/nodeapp/client/js/record/storage.js"])})();