(function(){window.tadpull||(Object.defineProperty(window,"tadpull",{value:{orgId:"OMNQFU",loadTime:new Date,traditional:!1,system:"BIGCOMMERCE",url:"com-tadpull-prod1.collector.snplow.net",npsEnabled:!1}}),function(n,t,i,r,u,f,e){n[u]||(n.GlobalTadpullSnowplowNamespace=n.GlobalTadpullSnowplowNamespace||[],n.GlobalTadpullSnowplowNamespace.push(u),n[u]=function(){(n[u].q=n[u].q||[]).push(arguments)},n[u].q=n[u].q||[],f=t.createElement(i),e=t.getElementsByTagName(i)[0],f.async=1,f.src=r,e.parentNode.insertBefore(f,e))}(window,document,"script","https://scripts.tadpull.com/h6ydgak8.js","tp_snowplow"),tp_snowplow("newTracker","sp_tadpull",tadpull.url,{appId:tadpull.orgId,discoverRootDomain:!0,cookieName:"_tp_sp_",cookieSameSite:"Lax",contexts:{webPage:!0,gaCookies:!0}}),tp_snowplow("enableActivityTracking",{minimumVisitLength:10,heartbeatDelay:30}),tp_snowplow("enableLinkClickTracking"),tadpull.identify=function(n,t,i){if(tadpull.system==="BIGCOMMERCE"&&t)fetch("/api/storefront/order/"+t,{credentials:"include"}).then(n=>n.json()).then(n=>{const i=n?.billingAddress?.email,t=n?.orderId?.toString();tp_snowplow("setUserId",n?.billingAddress?.email);tp_snowplow("addTrans",{orderId:t,total:n?.orderAmount?.toString()});tp_snowplow("trackTrans");tadpull.triggerNps(i,t)});else if(tadpull.system==="SHOPIFY"&&document.URL.includes("checkouts")&&document.URL.includes("thank_you")){const n=Shopify.checkout?.email,t=Shopify.checkout?.order_id?.toString();tp_snowplow("setUserId",n);tp_snowplow("addTrans",{orderId:t,total:Shopify.checkout?.total_price?.toString()});tp_snowplow("trackTrans");tadpull.triggerNps(n,t)}else if(window.tadpull.system==="SCA"){const n=t.toString();SC._applications?SC._applications[_.keys(SC._applications)[0]].getUser().then(function(t){const r=t.get("email");tp_snowplow("setUserId",r);tp_snowplow("addTrans",{orderId:n,total:i});tp_snowplow("trackTrans");tadpull.triggerNps(r,n)}):SC.Application.getUser().then(function(t){const r=t.get("email");tp_snowplow("setUserId",r);tp_snowplow("addTrans",{orderId:n,total:i});tp_snowplow("trackTrans");tadpull.triggerNps(r,n)})}else n&&t&&i?(tp_snowplow("setUserId",n),tp_snowplow("addTrans",{orderId:t,total:i}),tp_snowplow("trackTrans"),tadpull.triggerNps(n,t.toString())):n&&tp_snowplow("setUserId",n)},tadpull.pageView=function(){tp_snowplow("trackPageView")},tadpull.triggerNps=function(n,t=null,i=true){function o(n){function r(){t<=.1&&(clearInterval(i),n.style.display="none");n.style.opacity=t;t-=t*.5}function u(){n.style.display="block";t>=.95&&clearInterval(i);n.style.opacity=t;t+=t*.5}var t,i;n.style.display==="block"?(t=1,i=setInterval(r,50)):(t=.1,i=setInterval(u,50))}var u=new XMLHttpRequest,s,r,f,e;u.open("GET","https://pond.tadpull.com/api/netpromoterscore/modal?Organization="+encodeURI(tadpull.orgId)+"&published="+i.toString(),!1);u.send(null);u.status===200&&u.responseText&&(s=u.responseText,r=document.getElementById("tp-nps-super-container"),r!=null?r.innerHTML="":(r=document.createElement("div"),f=document.createAttribute("id"),f.value="tp-nps-super-container",r.setAttributeNode(f)),document.body.appendChild(r),r.innerHTML=s,o(document.getElementById("tadpull-nps")),e=document.getElementById("submit-score"),e.addEventListener("click",function(){var i,u,f,s,r;e.style.display="none";i=document.getElementById("tpNpsSubmitLabel");i!=null?i.innerHTML="":(i=document.createElement("div"),i.setAttribute("id","tpNpsSubmitLabel"),i.innerHTML="<p style='text-align: center;font-size: 18px; margin-top: 20px; margin-bottom: 20px; color:black;'>Submitting...<\/p>",document.querySelectorAll(".tadpull-nps-content")[0].appendChild(i));u=!0;document.querySelectorAll("input[name=nps-score]:checked")[0]?f=document.querySelectorAll("input[name=nps-score]:checked")[0].value:u=!1;s=document.getElementById("comments").value;n||(u=!1);u===!0?(r=new XMLHttpRequest,r.responseType="text",r.open("POST","https://pond.tadpull.com/api/netpromoterscore/submit",!0),r.onload=function(){if(r.readyState===r.DONE)if(r.status===200){document.querySelectorAll(".tadpull-nps-content")[0].innerHTML="";var n=document.createElement("div");n.innerHTML="<p style='text-align: center;font-size: 18px; margin-top: 20px; margin-bottom: 20px; color:green;'>Thank You!<\/p>";document.querySelectorAll(".tadpull-nps-content")[0].appendChild(n);setTimeout(function(){o(document.getElementById("tadpull-nps"))},1e3)}else i.innerHTML="",i.innerHTML="<p style='text-align: center;font-size: 18px; margin-top: 20px; margin-bottom: 20px; color:red;'>Something went wrong try again.<\/p>"},r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify({Organization:tadpull.orgId,EmailAddress:n,Score:f,Message:s,OrderId:t,DeviceType:navigator.userAgent,FeedbackLocation:window.location.href}))):i.innerHTML="<p style='text-align: center;font-size: 18px; margin-top: 20px; margin-bottom: 20px; color:red;'>Something went wrong.<\/p>"}),document.querySelectorAll(".tadpull-nps-background")[0].addEventListener("click",function(){document.querySelectorAll(".tadpull-nps-background")[0].remove();document.querySelectorAll(".tadpull-nps-content")[0].remove()}),document.getElementById("tadpull-nps-exit").addEventListener("click",function(){document.querySelectorAll(".tadpull-nps-background")[0].remove();document.querySelectorAll(".tadpull-nps-content")[0].remove()}))});window.tadpull&&window.tadpull.traditional&&(tadpull.identify(),tadpull.pageView())})()