define(['jquery','mage/smart-keyboard-handler','mage/mage','mage/ie-class-fixer','domReady!','menu','lazysizes',],function($,keyboardHandler){'use strict';$('.navigation #navigation').menu({"responsive":true,"expanded":false,"position":{"my":"left top","at":"left bottom"}});$(window).on("load",function(){if(!$('body').hasClass('menu-ready')){$('.navigation #navigation').menu({"responsive":true,"expanded":false,"position":{"my":"left top","at":"left bottom"}});}});if($('body').hasClass('checkout-cart-index')){if($('#co-shipping-method-form .fieldset.rates').length>0&&$('#co-shipping-method-form .fieldset.rates :checked').length===0){$('#block-shipping').on('collapsiblecreate',function(){$('#block-shipping').collapsible('forceActivate');});}}
$('.cart-summary').mage('sticky',{container:'#maincontent'});$('.panel.header > .header.links').clone().appendTo('#store\\.links');keyboardHandler.apply();var bp_screen__l=1024;viewportSign();function viewportSign(breakpoint,tablet_breakpoint){breakpoint=(breakpoint)?breakpoint:1024;tablet_breakpoint=(tablet_breakpoint)?tablet_breakpoint:768;var signElement=document.querySelector('body'),windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,sign=false;if(windowWidth<breakpoint){if(windowWidth<tablet_breakpoint){signElement.setAttribute('data-screen-mode','mobile');}else{signElement.setAttribute('data-screen-mode','tablet');}}else{signElement.setAttribute('data-screen-mode','desktop');}
var signMode=signElement.getAttribute('data-screen-mode'),signModeSwap=signElement.getAttribute('data-screen-mode-swap');if(signMode===undefined&&signModeSwap===undefined){sign=true;}
if(signMode==='mobile'&&signModeSwap!=='mobile'){sign=true;signElement.setAttribute('data-screen-mode-swap','mobile');}
if(signMode==='tablet'&&signModeSwap!=='tablet'){sign=true;signElement.setAttribute('data-screen-mode-swap','tablet');}
if(signMode==='desktop'&&signModeSwap!=='desktop'){sign=true;signElement.setAttribute('data-screen-mode-swap','desktop');}
if(sign){var event=new CustomEvent('screen-breakpoint',{'detail':{'mode':signMode}});signElement.dispatchEvent(event);}}
window.addEventListener('resize',function(){viewportSign()});$('.table-wrapper .table').each(function(){var heads=$(this).find('thead th'),rows=$(this).find('tbody tr'),table_head_text={};heads.each(function(index){table_head_text[index]=$(this).text();});rows.each(function(){var columns=$(this).find('td');columns.each(function(index){$(this).attr('data-th',table_head_text[index]);});});});fixHeaderOnTop();showBlockSearch();function fixHeaderOnTop(){var sticky=document.querySelector('.page-header'),scroll_point=250,stickySign=false,windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,scroll=$(window).scrollTop();if(windowWidth<bp_screen__l){sticky.setAttribute('data-mode','mobile');}else{sticky.setAttribute('data-mode','desktop');}
var stickyMode=sticky.getAttribute('data-mode'),stickyModeSwap=sticky.getAttribute('data-mode-swap');if(stickyMode===undefined&&stickyModeSwap===undefined){stickySign=true;}
if(stickyMode==='mobile'&&stickyModeSwap!=='mobile'){stickySign=true;sticky.setAttribute('data-mode-swap','mobile');}
if(stickyMode==='desktop'&&stickyModeSwap!=='desktop'){stickySign=true;sticky.setAttribute('data-mode-swap','desktop');}
if(windowWidth<bp_screen__l){scroll_point=0;}
if(scroll>=scroll_point){if(sticky.getAttribute('data-scroll')!=='active'){stickySign=true;sticky.setAttribute('data-scroll','active');}}else{if(sticky.getAttribute('data-scroll')!==''){sticky.setAttribute('data-scroll','');stickySign=true;}}
if(stickySign){if(!sticky.getAttribute('data-base-height')||sticky.getAttribute('data-base-height')===undefined){sticky.setAttribute('data-base-height',sticky.offsetHeight);}
if(windowWidth<bp_screen__l){sticky.setAttribute('data-mode','mobile');}else{sticky.setAttribute('data-mode','desktop');}
if(scroll>=scroll_point){sticky.classList.add('fixed');}else{sticky.classList.remove('fixed');}}
if(typeof ResizeObserver!=='undefined'){const resizeObserver=new ResizeObserver(entries=>{if(scroll>=scroll_point){for(let entry of entries){if(entry.target){$('.page-wrapper').css('padding-top',entry.target.offsetHeight);}}}else{$('.page-wrapper').css('padding-top',0);}});resizeObserver.observe(sticky);}}
function showBlockSearch(){var screenMode=$('body').attr('data-screen-mode');if(screenMode==='desktop'){$('.form.minisearch').removeClass('active');$('.form.minisearch .field label.label').removeClass('active');$('.block-search .control input').attr('aria-expanded','false ');}}
$(window).resize(function(){fixHeaderOnTop();showBlockSearch();});$(window).scroll(function(){fixHeaderOnTop();});function updateMinicartContentHeight(){var windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(windowWidth>bp_screen__l){var _docHeight=(document.height!==undefined)?document.height:document.body.offsetHeight;var _headerHeight=$('.page-header').height();var _minicartNewHeight=_docHeight-_headerHeight-10;$('#minicart-content-wrapper').css({"max-height":_minicartNewHeight});}}
updateMinicartContentHeight();window.addEventListener('resize',function(){updateMinicartContentHeight();});$(document).ready(function(){setTimeout(function(){$(".page-header .header .customer-links").css('display','block');$(".page-header .header .customer-links").css('visibility','hidden');$(".page-header .header .customer-links .icon-user.showlogin").css('visibility','visible');},1000);});});